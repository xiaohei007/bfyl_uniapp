{"version":3,"sources":["webpack:///E:/work/works/彬纷享你小程序/bfEnjoyYour/pages/personal/myCardBag/mescroll-item.vue?ac3b","webpack:///E:/work/works/彬纷享你小程序/bfEnjoyYour/pages/personal/myCardBag/mescroll-item.vue?099c","webpack:///E:/work/works/彬纷享你小程序/bfEnjoyYour/pages/personal/myCardBag/mescroll-item.vue?5223","webpack:///E:/work/works/彬纷享你小程序/bfEnjoyYour/pages/personal/myCardBag/mescroll-item.vue?edf5","uni-app:///pages/personal/myCardBag/mescroll-item.vue","webpack:///E:/work/works/彬纷享你小程序/bfEnjoyYour/pages/personal/myCardBag/mescroll-item.vue?70c1","webpack:///E:/work/works/彬纷享你小程序/bfEnjoyYour/pages/personal/myCardBag/mescroll-item.vue?6e12"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACa;;;AAGzE;AAC0L;AAC1L,gBAAgB,iMAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sQAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAgtB,CAAgB,2tBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0BpuB;AACA;;;;;;;;AAQA;;;;;AAKA,+C,uiEARA,WACA,0B,CAAA;;AASA,kB;;AAEA;AACA,8DADA,EACA;AACA;AACA,8BADA;AAEA,wBAFA;AAGA,8BAHA,EAFA;;AAOA,MAPA,kBAOA;AACA;AACA;AACA,mBADA,CACA;AADA,OADA;AAIA;AACA,mBADA,EACA;AACA,qBAFA,EAEA;AACA;AACA,yBADA,EACA;AACA,yBAFA,EAHA;;AAOA;AACA,iBADA,EAPA;;AAUA,6CAVA,EAJA;;AAgBA,kBAhBA,EAgBA;AACA,qBAjBA;;AAmBA,GA3BA;AA4BA,SA5BA,qBA4BA;AACA;AACA;AACA,GA/BA;AAgCA;AACA;AACA,kBADA;AAEA,gBAFA,EADA;;AAKA;AACA,mBADA;AAEA,oBAFA,EALA,EAhCA;;;AA0CA;AACA;AACA,+CADA,GADA;;AAIA;AACA,gBALA,0BAKA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA,CACA;AADA;AAGA;AACA,KAdA;AAeA;AACA,cAhBA,sBAgBA,IAhBA,EAgBA;AACA;AACA;AACA;AACA;AACA;AACA,mBAFA;AAGA;AACA,sBADA;AAEA,uBAFA;AAGA,eAHA,CAGA;AAHA,OAHA;AAQA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA,CACA;AACA;AACA;AACA;AACA;AACA,OAnBA,EAmBA,KAnBA,CAmBA;AACA;AACA;AACA,OAtBA;;AAwBA,KA/DA;AAgEA;AACA,cAjEA,wBAiEA;AACA;AACA,uCADA;;AAGA,KArEA;AAsEA;AACA,sBAvEA,8BAuEA,IAvEA,EAuEA;AACA;AACA;AACA;AACA,6BADA,CACA;AACA,+BAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BATA,CASA;AACA,OAVA;AAWA;AACA;AACA,KAvFA;AAwFA;AACA,aAzFA,uBAyFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCADA,CACA;AACA;AACA;AACA,yBADA;AAEA,gBAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,aARA;AASA;AACA,SAnBA;;AAqBA,OAzBA,EAyBA,IAzBA;AA0BA,KAtHA;AAuHA;AACA,gBAxHA,wBAwHA,GAxHA,EAwHA;;AAEA;AACA;AACA,uBADA;AAEA,+BAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDADA;AAEA,4BAFA;;AAIA,KApJA;AAqJA;AACA,YAtJA,sBAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA;AAEA,4BAFA;;AAIA,KAxKA;AAyKA;AACA,kBA1KA,0BA0KA,IA1KA,EA0KA;AACA;AACA,KA5KA,GA1CA;;AAwNA,eAxNA,2BAwNA;AACA;AACA,GA1NA,E;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAA4gC,CAAgB,w/BAAG,EAAC,C;;;;;;;;;;;ACAhiC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/personal/myCardBag/mescroll-item.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./mescroll-item.vue?vue&type=template&id=e584a13c&\"\nvar renderjs\nimport script from \"./mescroll-item.vue?vue&type=script&lang=js&\"\nexport * from \"./mescroll-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mescroll-item.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/personal/myCardBag/mescroll-item.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mescroll-item.vue?vue&type=template&id=e584a13c&\"","var components\ntry {\n  components = {\n    mescrollUni: function() {\n      return import(\n        /* webpackChunkName: \"components/mescroll-uni/mescroll-uni\" */ \"@/components/mescroll-uni/mescroll-uni.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mescroll-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mescroll-item.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- \r\n\tswiper中的transfrom会使fixed失效,此时用height=\"100%\"固定高度; \r\n\tswiper中无法触发mescroll-mixins.js的onPageScroll和onReachBottom方法,只能用mescroll-uni,不能用mescroll-body\r\n\t-->\r\n\t<!-- ref动态生成: 字节跳动小程序编辑器不支持一个页面存在相同的ref (如不考虑字节跳动小程序可固定值为 ref=\"mescrollRef\") -->\r\n\t <mescroll-uni  :ref=\"'mescrollRef'+currTabs\" height=\"100%\"  @init=\"mescrollInit\"  :down=\"downOption\" @down=\"downCallback\" :up=\"upOption\" @up=\"upCallback\" @emptyclick=\"emptyClick\">\r\n\t\t<!-- 数据列表 -->\r\n\t\t<template v-for=\"item in listData\">\r\n\t\t\t<!-- 未用 -->\r\n\t\t\t<not-converted v-if=\"currTabs === 0\" :config=\"item\" :key=\"item.id\" @setCheckItem=\"setCheckItem\" @directExchange=\"directExchange\"/>\r\n\t\t\t<!-- 已用  -->\r\n\t\t\t<converted v-else-if=\"currTabs === 1\" :config=\"item\" :key=\"item.id\"/>\r\n\t\t\t<!-- 已过期 -->\r\n\t\t\t<lost-efficacy v-else :config=\"item\" :key=\"item.id\" />\r\n\t\t</template>\r\n\t\t<!-- 数据加载完毕 -->\r\n\t\t<view v-if=\"currTabs===0&&listData.length>4&&isBottom\" class=\"mescroll-bottom\">\r\n\t\t\t  <view class=\"mescroll-bottom-text\">\r\n\t\t\t  \t  ———————— 没有更多了 ————————\r\n\t\t\t  </view>\r\n\t\t</view>\r\n\t</mescroll-uni>\r\n</template>\r\n\r\n<script>\r\n\timport MescrollMixin from \"@/components/mescroll-uni/mescroll-mixins.js\"\r\n\timport MescrollMoreItemMixin from \"@/components/mescroll-uni/mixins/mescroll-more-item.js\"\r\n\t/*子ITEM组件*/\r\n\timport notConverted from './notConverted'\r\n\timport converted from './converted'\r\n\timport lostEfficacy from './lostEfficacy'\r\n    /*子ITEM组件*/\r\n\tlet _countDownTime = null//未使用倒计时换倒计时 \r\n\t\r\n\timport {\r\n\t\tgetcardlog,\r\n\t\tgetcardpack,\r\n\t\tsetexpire\r\n\t} from '@/api/homeApi.js'\r\n\timport {mapActions} from 'vuex'\r\n\t\r\n\tlet _getcount = 0\r\n\t\r\n\texport default {\r\n\t\tmixins: [MescrollMixin,MescrollMoreItemMixin], // 注意此处还需使用MescrollMoreItemMixin (必须写在MescrollMixin后面)\r\n\t\tcomponents:{\r\n\t\t\tnotConverted,\r\n\t\t\tconverted,\r\n\t\t\tlostEfficacy\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdownOption:{\r\n\t\t\t\t\tauto:false // 不自动加载 (mixin已处理第一个tab触发downCallback)\r\n\t\t\t\t},\r\n\t\t\t\tupOption:{\r\n\t\t\t\t\tauto:false, // 不自动加载\r\n\t\t\t\t\tnoMoreSize: 4, //如果列表已无数据,可设置列表的总数量要大于半页才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看; 默认5\r\n\t\t\t\t\tempty:{\r\n\t\t\t\t\t\ttip: '~ 空空如也 ~', // 提示\r\n\t\t\t\t\t\tbtnText: '去新闻页'\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttoTop:{\r\n\t\t\t\t\t\tsrc:''\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttextNoMore:'———————— 没有更多了 ————————'\r\n\t\t\t\t},\r\n\t\t\t\tlistData: [],//列表数据\r\n\t\t\t\tisBottom:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(this.currTabs === 0)this.upOption.textNoMore = ''\r\n\t\t\t_getcount = 0\r\n\t\t},\r\n\t\tprops:{\r\n           currTabs:{\r\n\t\t\t   type:Number,\r\n\t\t\t   default:0\r\n\t\t   },\r\n\t\t   isCheckAll:{\r\n\t\t\t   type:Boolean,\r\n\t\t\t   default:false\r\n\t\t   }\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions({\r\n\t\t\t\tgetCardTopCount:'personal/getCardTopCount'\r\n\t\t\t}),\r\n\t\t\t/*下拉刷新的回调 */\r\n\t\t\tdownCallback() {\r\n\t\t\t\t// 这里加载你想下拉刷新的数据, 比如刷新轮播数据\r\n\t\t\t\t// loadSwiper()\r\n\t\t\t\t// 下拉刷新的回调,默认重置上拉加载列表为第一页 (自动执行 page.num=1, 再触发upCallback方法 )\r\n\t\t\t\tthis.mescroll.resetUpScroll()\r\n\t\t\t\tif(_getcount > 0)\r\n\t\t\t\t\tthis.getCardTopCount()//更新顶部数据\r\n\t\t\t\telse\r\n\t\t\t\t_getcount++\r\n\t\t\t},\r\n\t\t\t/*上拉加载的回调: 其中page.num:当前页 从1开始, page.size:每页数据条数,默认10 */\r\n\t\t\tupCallback(page) {\r\n\t\t\t\t//联网加载数据\r\n\t\t\t\tlet currTabs = this.currTabs\r\n\t\t\t\t//请求参数处理\r\n\t\t\t\tlet API = getcardlog,\r\n\t\t\t\t    //pageSize = currTabs === 0?100:10,\r\n\t\t\t\t    pageSize = 10,\r\n\t\t\t\t\tparmas = {\r\n\t\t\t\t\t\tnext: page.num,\r\n\t\t\t\t\t\tlimit:pageSize,\r\n\t\t\t\t\t\ttype:1//红牛\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*根据类型请求*/\r\n\t\t\t\t\tif(currTabs === 0){//未使用\r\n\t\t\t\t\t\tparmas.use = 0\r\n\t\t\t\t\t}else if(currTabs === 1){//已使用\r\n\t\t\t\t\t\tAPI = getcardpack\r\n\t\t\t\t\t\tdelete parmas.type\r\n\t\t\t\t\t}else{//已过期\r\n\t\t\t\t\t\tparmas.use = 2\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t//获取数据\r\n\t\t\t\tAPI(parmas).then(res => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet data = res.data||{list:[]}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//联网成功的回调,隐藏下拉刷新和上拉加载的状态\r\n\t\t\t\t\tthis.mescroll.endSuccess(data.list.length)\r\n\t\t\t\t\t//处理到底情况\r\n\t\t\t\t\tif(data.list.length<pageSize)this.isBottom = true\r\n\t\t\t\t\t//如果是未兑换。特殊处理\r\n\t\t\t\t\tif (this.currTabs === 0) {\r\n\t\t\t\t\t\tthis.exchangedTransform(data.list)\r\n\t\t\t\t\t} \r\n\t\t\t\t\t//设置列表数据\r\n\t\t\t\t\tif(page.num === 1){\r\n\t\t\t\t\t\tthis.listData = []//如果是第一页需手动制空列表\r\n\t\t\t\t\t\tif (this.currTabs === 0)this.$emit('checkback',{isCheckAll:false,checkData:[]})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//填充数据\r\n\t\t\t\t\tthis.listData = this.listData.concat(data.list)\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t//联网失败, 结束加载\r\n\t\t\t\t\tthis.mescroll.endErr()\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//点击空布局按钮的回调\r\n\t\t\temptyClick(){\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl:'/pages/tabBar/home/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//处理兑换中\r\n\t\t\texchangedTransform(data) {\r\n\t\t\t\t//当前时间\r\n\t\t\t\tlet currTime = new Date().getTime()\r\n\t\t\t\tdata.forEach(function(item) {\r\n\t\t\t\t\titem.isCheck = false//可选配置\r\n\t\t\t\t\tlet time = item.expire//过期时间\r\n\t\t\t\t\t//过期时间\r\n\t\t\t\t\tlet expirationTime = new Date(time.replace(/\\-/g, '/')).getTime()\r\n\t\t\t\t\t//剩余时间\r\n\t\t\t\t\titem.remainingTime = expirationTime - currTime \r\n\t\t\t\t\t//open为true 则开启倒计时 小于一天开启倒计时\r\n\t\t\t\t\titem.open = item.remainingTime <= 7*24*60*60*1000\r\n\t\t\t\t\titem.isRequest = false //是否在请求中\r\n\t\t\t\t})\r\n\t\t\t\t//有数据时开启倒计时\r\n\t\t\t\tif (data.length > 0) this.countDown()\r\n\t\t\t},\r\n\t\t\t//兑换中倒计时\r\n\t\t\tcountDown() {\r\n\t\t\t\tclearInterval(_countDownTime);\r\n\t\t\t\r\n\t\t\t\t_countDownTime = setInterval(() => {\r\n\t\t\t\t\t//没有数据时结束倒计时\r\n\t\t\t\t\tif (this.listData.length === 0) return clearInterval(_countDownTime)\r\n\t\t\t\t\t//数据处理\r\n\t\t\t\t\tthis.listData.forEach((item, index) => {\r\n\t\t\t\t\t\t//可以倒计时\r\n\t\t\t\t\t\tif (item.open) {\r\n\t\t\t\t\t\t\titem.remainingTime -= 1000\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//时间小于或等于0的数据可进行删除\r\n\t\t\t\t\t\tif (item.remainingTime <= 0 && !item.isRequest) {\r\n\t\t\t\t\t\t\titem.isRequest = true //防止多次调用\r\n\t\t\t\t\t\t\t//发送给后端\r\n\t\t\t\t\t\t\tsetexpire({\r\n\t\t\t\t\t\t\t\tid: item.id\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\t\t\tthis.$emit('refreshCardPackage')\r\n\t\t\t\t\t\t\t\t\t//刷新下顶部\r\n\t\t\t\t\t\t\t\t\tthis.getCardTopCount(false)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t//兑换卷单选\r\n\t\t\tsetCheckItem(val) {\r\n\t\t\t\r\n\t\t\t\tif (this.isCheckAll && !val.isCheck)\r\n\t\t\t\t\treturn this.$emit('xhNotify',{\r\n\t\t\t\t\t\ttype: \"warning\",\r\n\t\t\t\t\t\tmessage: \"亲,一次最多兑换10罐！\",\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t})\r\n\t\t\t\t//是否是全选状态\r\n\t\t\t\tlet index = 0\r\n\t\t\t\tlet _list = this.listData\r\n\t\t\t\tlet checkData = []\r\n\t\t\t\t//处理对应选中状态修改\r\n\t\t\t\tfor (let i = 0; i < _list.length; i++) {\r\n\t\t\t\t\tlet item = _list[i]\r\n\t\t\t\t\tif (item.id === val.id) {\r\n\t\t\t\t\t\titem.isCheck = !val.isCheck\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.isCheck) {\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\tcheckData.push(item)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//选中回调\r\n\t\t\t\tthis.$emit('checkback',{\r\n\t\t\t\t\tisCheckAll:index == _list.length || index == 10,\r\n\t\t\t\t\tcheckData\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//全选当前列表\r\n\t\t\tcheckAll() {\r\n\t\t\t\tlet isCheckAll = !this.isCheckAll\r\n\t\t\t\tlet _list = this.listData\r\n\t\t\t\tlet checkData = []\r\n\t\t\t\tfor (let index = 0; index < _list.length; index++) {\r\n\t\t\t\t\tlet item = _list[index]\r\n\t\t\t\t\tif (index <= 9) {\r\n\t\t\t\t\t\titem.isCheck = isCheckAll\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.isCheck = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(item.isCheck)checkData.push(item)\r\n\t\t\t\t}\r\n\t\t\t\t//选中回调\r\n\t\t\t\tthis.$emit('checkback',{\r\n\t\t\t\t\tisCheckAll,\r\n\t\t\t\t\tcheckData\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//直接兑换\r\n\t\t\tdirectExchange(data){\r\n\t\t\t\tthis.$emit('directExchange',data)\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tclearInterval(_countDownTime)\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\t.mescroll-bottom{\r\n\t\tpadding-bottom: 44px;\r\n\t}\r\n\t.mescroll-bottom-text{\r\n\t\theight: 40rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: gray; \r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: flex-end;\r\n\t}\r\n</style>\r\n","import mod from \"-!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mescroll-item.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\TXC\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mescroll-item.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1624255046335\n      var cssReload = require(\"C:/Users/TXC/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}